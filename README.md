# NETSIM

NETSIM is a fast and efficient simulator for spiking neural networks. Written in C, the focus of this software is to enable large-scale simulations of networks ranging from 1e5 to 1e6 on platforms ranging from relatively standard high-memory desktop workstations to compute clusters. To run simulations and to enable reproducibility, NETSIM has a simple parameter file system, where an input file (with extension .parameters) is taken as input in the form “variable = value”. Lines starting with “#” are treated as comments. In this way, simulations can be documented through single files, enabling documentation of simulation studies with a set of plaintext files.

## System requirements and platform compatibility

* macOS
	* tested on macOS version 10.15.7
	* Compiler: Clang (tested on version 1200.0.32.27)
	* GNU Make (tested on version 3.81)
* Linux
	* tested on Pop!_OS 20.10
		* GNU C Compiler (gcc) (tested on version 10.2.0)
		* GNU Make (tested on version 4.3)
	* tested on Ubuntu 20.04.1 LTS
		* GNU C Compiler (gcc) (tested on version 8.4.0)
		* GNU Make (tested on version 4.2.1)

## Installation

* Unzip folder (should take less than 10 seconds):
```
unzip NETSIM.zip
```

## Demo

1. Change directory:
```
cd NETSIM
```

2. Make:
```
make clean
make COMPILE_TYPE=performance
```
The ```make clean``` command deletes any existing executable and object files (*i.e.*, ```netsim```, ```netsim.o```, ```rng.o```, ```isaac64.o```, and ```gamma_dist_rng.o```) from previous executions, and the second ```make``` command recompiles these files. The compilation process should take less than 30 seconds.

3. Execute:
```
./netsim -f ./tests/test1.parameters -o .
```
This command specifies the parameter file at the relative path ```./tests/test1.parameters``` and saves the output binary files in the current directory. The total number of spikes should be 343298. The number of spikes from the simulation is indicated in the terminal output.

Expected output files:
* ```00000002individual.bin```
* ```00000002gi.bin```
* ```00000002ge.bin```
* ```00000002vms.bin```
* ```00000002spk.bin```
* ```00000002individualge.bin```

Expected run time: 60 seconds

4. Load data in MATLAB:

Entering the following lines in a MATLAB command window

```
>> cd analysis
>> [ids,times] = load_netsim_spikes( '../00000002spk.bin' );
>> plot( times, ids, '.k' ); xlabel( 'id' ); ylabel( 'time (s)' )
```

will load spikes generated by “test1.parameters” and create a raster plot for the simulation.

## Instructions for use

The process for running an arbitrary NETSIM simulation is the same as that described in the demo section, but with a different parameter file and output location. Hence, the general execution command would be

```
./netsim -f <path-to-parameter-file> -o <output-path>
```
